<#list parameters as parameter>
	<#if parameter_index = 0>
		<#assign defaultValue = parameter>
	</#if>
	<#if parameter_index = 1>
		<#assign items = parameter>
	</#if>
</#list>
<div class="form-group">
	<label class="control-label col-xs-12 col-sm-2 col-md-2" for="${parameter.name}" >${parameter.label}</label>
	<div class="col-xs-12 col-sm-10 col-md-10">
		<input type="text" id="${items.name}_value" class="form-control input-sm" name="${items.name}_value" tabindex="6" />
		<button class="btn btn-primary btn-sm" type="submit" name="add" value="add" >
			#i18n{document.attributeType.listbox.btnAddItem}
		</button>
		<p class="help-block">${items.description}</p>
	</div>
</div>
<div class="form-group">
	<label class="control-label col-xs-12 col-sm-2 col-md-2" for="${items.name}_select" >&nbsp;</label>
	<div class="col-xs-12 col-sm-10 col-md-10">
		<select id="${items.name}_select" name="${items.name}_select" size="4" class="form-control input-sm" tabindex="8">
			<#list items.valueList as values >
				<option value="${values}" >${values}</option>
			</#list>
		</select>
		<div style="display:none;">
			<select id="${items.name}" name="${items.name}" class="form-control input-sm" size="4" multiple="multiple" >
				<#list items.valueList as values >
					<option value="${values}" selected="selected">${values}</option>
				</#list>		
			</select>
		</div>
		<button class="btn btn-primary btn-xs" name="delete"  value="delete" type="submit">
			#i18n{document.attributeType.listbox.btnDelItem}
		</button>
		<button class="btn btn-primary btn-xs"  value="bydefault" name="bydefault" type="submit">
			#i18n{document.attributeType.listbox.btnDefItem}
		</button>
	</div>
</div>
<div class="form-group">
	<label for="${defaultValue.name}" class="col-xs-12 col-sm-2 col-md-2">&nbsp;</label>
	<div class="col-xs-12 col-sm-10 col-md-10">
		<input type="text" class="form-control input-sm" id="${defaultValue.name}" name="${defaultValue.name}" value="<#list defaultValue.valueList as values >${values}</#list>" readonly="readonly" tabindex="11" >
	</div>
</div>
<script src="js/selectbox.js"></script>
<script>
function manageItems( actionItem ){
objVisible = document.getElementsByName('${items.name}_select')[0];
objHidden = document.getElementsByName('${items.name}')[0];
objValue = document.getElementsByName('${items.name}_value')[0];
objDefaultValue = document.getElementsByName('${defaultValue.name}')[0];
objHidden.selectedIndex = objVisible.selectedIndex;	
	
// add an option into list
if( actionItem == 1){
	addOption(objVisible, objValue.value, objValue.value, false);
	addOption(objHidden, objValue.value, objValue.value, false);
	objValue.value='';
	objValue.focus();
	} else {
	 // delete an option from list
	if( objDefaultValue.value == objVisible.options[objVisible.selectedIndex].value ){
		objDefaultValue.value = '';
		}
		removeSelectedOptions(objVisible);
		removeSelectedOptions(objHidden);
	}
	 selectAllOptions(objHidden);
}

function setByDefault(objName){
objSelect = document.getElementsByName(objName)[0];
choice = objSelect.selectedIndex;
if(choice > -1){
	document.getElementsByName("${defaultValue.name}")[0].value = objSelect.options[choice].text;
	}		
}
</script>
