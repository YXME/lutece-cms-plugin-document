<div class="span3">
	<div class="well" >
	<fieldset>
    <legend>#i18n{document.search_results.labelSearch}</legend>
		<form name="search" method="post" action="jsp/admin/plugins/document/DocumentSearch.jsp<#if advanced_search??>?advanced_search=true</#if>">
		<input type="hidden" name="page" value="search" />
		<div class="control-group">
		<label class="control-label" for="query">&nbsp;</label>
			<div class="controls">
				<input type="text" name="query" size="30" value="<#if query??>${query}</#if>" />
			</div>
		</div>
     <#-- Number of documents per page selector -->
     #i18n{document.search_results.labelNbDocsPerPage} : 
	<@NbItemsPerPageSelectorCombo nb_items_per_page />
	<#if advanced_search??>
     <div class="control-group">
	<label class="control-label" for="">#i18n{document.advanced_search.limit}:</label>
    	<div class="controls">
		<label class="checkbox">
			<input name="title" id="title" type="checkbox" <#if title??>checked</#if>/>#i18n{document.advanced_search.checkbox.title}
			</label>
		</div>
		<div class="controls">
			<label class="checkbox">
			<input name="summary" id="summary" type="checkbox" <#if summary??>checked</#if>/>#i18n{document.advanced_search.checkbox.summary}
		</label>
		</div>
	</div>
	<div class="control-group">
	<label class="control-label" for="date">#i18n{document.advanced_search.checkbox.date}:</label>
		<div class="controls">
			<span class="datepicker_wrap">						
				<input type="text" name="date" id="date" size="10"  value="<#if date_query??>${date_query}</#if>"/>
			</span>
		</div>
	</div>									
	<div class="control-group">
	<label class="control-label" for="document_type">#i18n{document.advanced_search.list.type}:</label>
		<div class="controls">
			<@combo name="document_type"  items=document_type_list default_value=selected_type />
		</div>
	</div>
	<#else>
		<a class="btn" href=jsp/admin/plugins/document/DocumentSearch.jsp?advanced_search=true<#if query??>&query=${query}</#if>><i class="icon-circle-arrow-down"></i>&nbsp;Recherche avancée</a>
	</#if>
	<div class="form-actions">
		<button class="btn btn-primary" type="submit" ><i class="icon-search icon-white"></i>&nbsp;#i18n{document.search_results.buttonSearch}</button>
	</div>
	</fieldset>
	</form>
	</div>
</div>  

<div class="span8">
<fieldset>
<legend>#i18n{document.search_results.labelDocumentsList}</legend>
<div class="error"> ${error} </div>
<@paginationAdmin paginator=paginator />
<table class="table table-striped table-condensed">
	<thead>
		<tr>
            <th>#i18n{document.search_results.labelDocument}</th>
            <th>#i18n{document.search_results.labelType}</th>
            <th>#i18n{document.search_results.labelDate}</th>
        </tr>
	</thead>
    <tbody>
	<#list results_list as result>
    <tr>
		<td>
		
		<p><a href="jsp/admin/plugins/document/PreviewDocument.jsp?id_document=${result.id}"  title="null" >${result.title}</a></p>
		<small>${result.summary}</small>
		</td>
        <td>${result.type}</td>
		<td width="10%">${result.date}</td>
    </tr>            
    </#list>
	</tbody>
</table>
<@paginationAdmin paginator=paginator />
</div>


<#-- Freemarker macros -->

<#-- Number of items per page selector - Combo Box implementation -->
<#macro NbItemsPerPageSelectorCombo nb_items_per_page>
<select name="items_per_page">
    <#list [ "10" , "20" , "50" , "100" ] as nb>
    <#if nb_items_per_page = nb >
    <option selected="selected" value="${nb}">${nb}</option>
    <#else>
    <option value="${nb}">${nb}</option>
    </#if>
    </#list>
</select>
</#macro>

<#-- Number of items per page selector - Radio List implementation -->
<#macro NbItemsPerPageSelectorRadioList nb_items_per_page>
<#list [ "5" , "10" , "20" , "50" ] as nb>
<#if nb = nb_items_per_page >
<div class="control-group">
<label class="control-label" for="items_per_page${nb}">${nb}</label>
	<div class="controls">
		<input value="${nb}" id="items_per_page${nb}" name="items_per_page" type="radio" class="radio" checked />
	</div>
</div>
<#else>
<div class="control-group">
<label class="control-label" for="items_per_page${nb}">${nb}</label>
	<div class="controls">
		<input value="${nb}" id="items_per_page${nb}" name="items_per_page" type="radio" class="radio" />
	</div>
</div>
</#if>
</#list>
</#macro>

<#if advanced_search??>
	<@getDatePicker idField="date"  language=locale /></#if>
