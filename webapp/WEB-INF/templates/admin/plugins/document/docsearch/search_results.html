<div class="row">
    <div class="col-xs-12 col-sm-3 col-md-3">
        <fieldset>
            <legend>#i18n{document.search_results.labelSearch}</legend>
            <form name="search" method="post" action="jsp/admin/plugins/document/DocumentSearch.jsp<#if advanced_search??>?advanced_search=true</#if>">
                <input type="hidden" name="page" value="search" />
                <div class="form-group">
                    <label class="control-label col-xs-12 col-sm-2 col-md-2" for="query">&nbsp;</label>
                    <div class="col-xs-12 col-sm-10 col-md-10">
                        <input type="text" name="query" class="input-sm" value="<#if query??>${query}</#if>" />
                    </div>
                </div>
                <#-- Number of documents per page selector -->
                #i18n{document.search_results.labelNbDocsPerPage} 
                <@NbItemsPerPageSelectorCombo nb_items_per_page />
                <#if advanced_search??>
                    <div class="form-group">
                        <label class="control-label col-xs-12 col-sm-2 col-md-2" for="">#i18n{document.advanced_search.limit}:</label>
                        <div class="col-xs-12 col-sm-10 col-md-10">
                            <label class="checkbox inline" for="title">
                                <input name="title" id="title" type="checkbox" <#if title??>checked</#if>/>#i18n{document.advanced_search.checkbox.title}
                            </label>
                            <label class="checkbox inline" for="summary">
                                <input name="summary" id="summary" type="checkbox" <#if summary??>checked</#if>/>#i18n{document.advanced_search.checkbox.summary}
                            </label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-xs-12 col-sm-2 col-md-2" for="date">#i18n{document.advanced_search.checkbox.date}:</label>
                        <div class="col-xs-12 col-sm-10 col-md-10">
                            <div class="input-group">
                                <span class="add-on"><i class="glyphicon glyphicon-calendar"></i></span>
                                <input type="text" class="input-sm"  name="date" id="date" value="<#if date_query??>${date_query}</#if>">
                            </div>
                        </div>
                    </div>									
                    <div class="form-group">
                        <label class="control-label col-xs-12 col-sm-2 col-md-2" for="document_type">#i18n{document.advanced_search.list.type}:</label>
                        <div class="col-xs-12 col-sm-10 col-md-10">
                            <@comboWithParamsAndLength name="document_type" default_value=selected_type additionalParameters="class='col-xs-12 col-sm-9 col-md-9'" items=document_type_list max_length=175 />
                      </div>
                    </div>
                <#else>
                <div class="form-group">
                    <label class="control-label col-xs-12 col-sm-2 col-md-2" for=""></label>
                        <div class="col-xs-12 col-sm-10 col-md-10">
                            <a class="btn btn-link" href=jsp/admin/plugins/document/DocumentSearch.jsp?advanced_search=true<#if query??>&query=${query}</#if>>
                                <i class="glyphicon glyphicon-chevron-down"></i>&nbsp;#i18n{document.manage_document_publishing.labelAdvancedSearch}
                            </a>
                        </div>
                </div>
                </#if>
                <div class="">
                    <button class="btn btn-primary btn-sm" type="submit" ><i class="glyphicon glyphicon-search"></i>&nbsp;#i18n{document.search_results.buttonSearch}</button>
                </div>
        </fieldset>
        </form>
    </div>  
    <div class="col-xs-12 col-sm-9 col-md-9">
        <fieldset>
            <legend>#i18n{document.search_results.labelDocumentsList}</legend>
            <div class="error"> ${error} </div>
            <@paginationAdmin paginator=paginator />
            <table class="table table-striped table-condensed">
                <thead>
                    <tr>
                        <th>#i18n{document.search_results.labelDocument}</th>
                        <th>#i18n{document.search_results.labelType}</th>
                        <th>#i18n{document.search_results.labelDate}</th>
                    </tr>
                </thead>
                <tbody>
                    <#list results_list as result>
                    <tr>
                        <td>

                            <p><a href="jsp/admin/plugins/document/PreviewDocument.jsp?id_document=${result.id}"  title="null" >${result.title}</a></p>
                            <small>${result.summary}</small>
                        </td>
                        <td>${result.type}</td>
                        <td width="10%">${result.date}</td>
                    </tr>            
                    </#list>
                </tbody>
            </table>
            <@paginationAdmin paginator=paginator />
    </div>
</div>

<#-- Freemarker macros -->

<#-- Number of items per page selector - Combo Box implementation -->
<#macro NbItemsPerPageSelectorCombo nb_items_per_page>
<select name="items_per_page" class="input-mini">
    <#list [ "10" , "20" , "50" , "100" ] as nb>
    <#if nb_items_per_page = nb >
    <option selected="selected" value="${nb}">${nb}</option>
    <#else>
    <option value="${nb}">${nb}</option>
    </#if>
    </#list>
</select>
</#macro>

<#-- Number of items per page selector - Radio List implementation -->
<#macro NbItemsPerPageSelectorRadioList nb_items_per_page>
<#list [ "5" , "10" , "20" , "50" ] as nb>
    <#if nb = nb_items_per_page >
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2 col-md-2" for="items_per_page${nb}">${nb}</label>
            <div class="col-xs-12 col-sm-10 col-md-10">
                <input value="${nb}" id="items_per_page${nb}" name="items_per_page" type="radio" class="radio" checked />
            </div>
        </div>
    <#else>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2 col-md-2" for="items_per_page${nb}">${nb}</label>
            <div class="col-xs-12 col-sm-10 col-md-10">
                <input value="${nb}" id="items_per_page${nb}" name="items_per_page" type="radio" class="radio" />
            </div>
        </div>
    </#if>
</#list>
</#macro>

<#if advanced_search??>
<script src="js/jquery/plugins/ui/jquery-ui-1.9.2.custom.min.js"></script>
<script src="js/jquery/plugins/ui/ui.datepicker-fr.js"></script>
<@getDatePicker idField="date" language=locale />
</#if>
