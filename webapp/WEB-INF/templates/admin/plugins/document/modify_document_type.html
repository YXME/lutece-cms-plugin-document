<div class="content-box" >
    
    <h2>#i18n{document.modify_document_type.titleProperties}</h2>
    
    <form method="post" action="jsp/admin/plugins/document/DoModifyDocumentType.jsp">
        
        <p>
            <label for="code" >#i18n{document.modify_document_type.labelCode}* :</label>
            ${document_type.code}
            <input type="hidden" name="code" id="code" value="${document_type.code}" maxlength="30"/>
        </p>
        <p>
            <label for="name" >#i18n{document.modify_document_type.labelName}* :</label>
            <input type="text" name="name" id="name" tabindex="1" value="${document_type.name}" maxlength="100"/>
        </p>
        <p>
            <label for="description" >#i18n{document.modify_document_type.labelDescription}* :</label>
            <input type="text" name="description" id="description" tabindex="3" value="${document_type.description}" size="60" />
        </p>
        <p>
            <label for="icon_url" >#i18n{document.modify_document_type.labelThumbnailUrl} :</label>
            <input type="text" name="icon_url" id="icon_url" tabindex="4" value="${document_type.defaultThumbnailUrl}" size="60"/>
        </p>
        <p>
            <label for="icon_url" >#i18n{document.modify_document_type.labelThumbnailAttribute} :</label>
            <@combo name="thumbnail_attribute" items=thumbnail_attributes_list default_value="${document_type.thumbnailAttributeId}" />
        </p>
        <p>
            <label for="name" >#i18n{document.modify_document_type.labelMetadata}* :</label>
            <@combo name="metadata" items=metadata_handlers_list default_value="" />
            #i18n{document.modify_document_type.helpMetadata}
        </p>
        <input type="submit" value="#i18n{document.modify_document_type.buttonModify}" class="button" />
        <input class="button" type="button" onclick="javascript:history.go(-1)" value="#i18n{portal.admin.message.buttonCancel}" />
    </form>
    
</div>
<div class="content-box" >
    
    <h2>#i18n{document.modify_document_type.titleAttributesList}</h2>
    
    <table>
        <tr>
            <th>#i18n{document.modify_document_type.columnAttributeName}</th>
            <th>#i18n{document.modify_document_type.columnAttributeCode}</th>
            <th>#i18n{document.modify_document_type.columnAttributeDescription}</th>
            <th>#i18n{document.modify_document_type.columnAttributeType}</th>
            <th>#i18n{document.modify_document_type.columnAttributeRequired}</th>
            <th>#i18n{document.modify_document_type.columnAttributeSearchable}</th>
            <th>#i18n{document.modify_document_type.columnAttributeActions}</th>
        </tr>
        
        <#list document_type.attributes as attribute >
        <tr>
            <td>
                <a href="jsp/admin/plugins/document/ModifyDocumentTypeAttribute.jsp?attribute_id=${attribute.id}" class="admin-menu">
                    ${attribute.name}
                </a>
            </td>
            <td> ${attribute.code} </td>
            <td> ${attribute.description} </td>
            <td> ${attribute.codeAttributeType} </td>
            <td>
                <#if attribute.required = true >
                #i18n{portal.util.labelYes}
                <#else>
                #i18n{portal.util.labelNo}
                </#if>
            </td>
            <td>
                <#if attribute.searchable = true >
                #i18n{portal.util.labelYes}
                <#else>
                #i18n{portal.util.labelNo}
                </#if>
            </td>
            <td>
                <a href="jsp/admin/plugins/document/DoAttributeMoveUp.jsp?index=${attribute.attributeOrder}">
                    <img src="images/admin/skin/actions/up.png" alt="#i18n{document.modify_document_type.buttonMoveUp}" title="#i18n{document.modify_document_type.buttonMoveUp}" />
                </a>
                <a href="jsp/admin/plugins/document/DoAttributeMoveDown.jsp?index=${attribute.attributeOrder}">
                    <img src="images/admin/skin/actions/down.png" alt="#i18n{document.modify_document_type.buttonMoveDown}" title="#i18n{document.modify_document_type.buttonMoveDown}" />
                </a>
                <a href="jsp/admin/plugins/document/DoConfirmDeleteAttribute.jsp?attribute_id=${attribute.id}">
                    <img src="images/admin/skin/actions/delete.png" alt="#i18n{document.modify_document_type.buttonDelete}" title="#i18n{document.modify_document_type.buttonDelete}" />
                </a>
            </td>
        </tr>
        </#list>
        
    </table>
    
    
    <div class="highlight-box">
        <form method="post" name="AddAttribute" action="jsp/admin/plugins/document/AddDocumentTypeAttribute.jsp">
            <p>
                <label for="attribute_type_code" >#i18n{document.modify_document_type.labelAddAttribute} </label> 
                <@combo name="attribute_type_code" default_value="" items=attribute_types_list />
                <input type="hidden" name="document_type_code" value="${document_type.code}" />
                <input type="submit" class="button" value="#i18n{document.modify_document_type.buttonAddAttribute}" />
            </p>
        </form>
    </div>
    
    
</div>

<div class="content-box" >
    
    <h2>#i18n{document.modify_document_type.titleStyleSheets}</h2>
    
    <form method="post" action="jsp/admin/plugins/document/DoLoadDocumentTypeStyleSheets.jsp" enctype="multipart/form-data" name="create_stylesheet">
        <input type="hidden" name="document_type_code" value="${document_type.code}" />
        
        <p>
            <label for="stylesheet_source" >#i18n{document.modify_document_type.labelStyleSheetAdmin} : </label>
            <input type="file" id="stylesheet_admin" name="stylesheet_admin" size="60" maxlength="100"/>
            <input type="checkbox" id="stylesheet_admin_update" name="stylesheet_admin_update" value="true" /> #i18n{document.modify_document_type.labelStyleSheetAdminUpdate}
            <br />
            <label>&nbsp;</label>
            <#if document_type.adminXsl?has_content>
            	<a href="jsp/admin/plugins/document/ViewStyleSheetFile.jsp?document_type_code=${document_type.code}&stylesheet_type=stylesheet_admin">#i18n{document.modify_document_type.labelStyleSheetAdminDownload}</a>
        	<#else>
        		<em>#i18n{document.modify_document_type.labelStyleSheetAdminNoFile}</em>
        	</#if>
        </p>
        <p>
            <label for="stylesheet_source" >#i18n{document.modify_document_type.labelStyleSheetContent} : </label>
            <input type="file" id="stylesheet_content" name="stylesheet_content" size="60" maxlength="100"/>
            <input type="checkbox" id="stylesheet_content_update" name="stylesheet_content_update" value="true" /> #i18n{document.modify_document_type.labelStyleSheetContentUpdate}
            <br />
            <label>&nbsp;</label>
            <#if document_type.contentServiceXsl?has_content>
            	<a href="jsp/admin/plugins/document/ViewStyleSheetFile.jsp?document_type_code=${document_type.code}&stylesheet_type=stylesheet_content">#i18n{document.modify_document_type.labelStyleSheetContentDownload}</a>
        	<#else>
        		<em>#i18n{document.modify_document_type.labelStyleSheetContentNoFile}</em>
        	</#if>
        </p>
        <p>
            <input type="hidden" name="mode_id" value="-1" />
            <input type="submit" value="#i18n{document.modify_document_type.buttonLoadStyleSheets}" class="button" />
        </p>
    </form>
</div>