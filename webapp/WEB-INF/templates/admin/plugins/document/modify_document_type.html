<div class="row" >
<div class="span4">
<fieldset>
<legend>#i18n{document.modify_document_type.titleProperties}</legend>
<form class="form-horizontal" method="post" action="jsp/admin/plugins/document/DoModifyDocumentType.jsp">
	<div class="control-group">
	<label class="control-label" for="code" >#i18n{document.modify_document_type.labelCode}* :</label>
		<div class="controls">
			<input type="text" name="code" id="code" tabindex="1" maxlength="30" value="${document_type.code}"/>
			<span class="help-text">#i18n{document.modify_document_type.helpCode}</span>
		</div>
	</div>
    <div class="control-group">
		<label class="control-label" for="name" >#i18n{document.modify_document_type.labelName}* :</label>
			<div class="controls">
				<input type="text" name="name" id="name" tabindex="2" maxlength="100" value="${document_type.name}" />
				<span class="help-text">#i18n{document.modify_document_type.helpName}</span>
			</div>
	</div>
	<div class="control-group">
		<label class="control-label" for="name" >#i18n{document.modify_document_type.labelDescription}* :</label>
            <div class="controls">
				<input type="text" name="description" id="description" tabindex="3" value="${document_type.description}" />
				<span class="help-text">#i18n{document.modify_document_type.helpDescription}</span>
			</div>
	</div>
	<div class="control-group">
		<label class="control-label" for="icon_url" >#i18n{document.modify_document_type.labelThumbnailUrl} :</label>
            <div class="controls">
			<input type="text" name="icon_url" id="icon_url" tabindex="4" value="${document_type.defaultThumbnailUrl}" />
		</div>
	</div>
    <div class="control-group">
		<label class="control-label" for="icon_url" >#i18n{document.modify_document_type.labelThumbnailAttribute} :</label>
            <div class="controls">
			<@combo name="thumbnail_attribute" items=thumbnail_attributes_list default_value="${document_type.thumbnailAttributeId}" />
		</div>
	</div>
    <div class="control-group">
		<label class="control-label" for="name" >#i18n{document.modify_document_type.labelMetadata}* :</label>
            <div class="controls">
				<@combo name="metadata" items=metadata_handlers_list default_value="" />
				<span class="help-text">#i18n{document.modify_document_type.helpMetadata}</span>
			</div>
	</div>
    <div class="form-actions">
		<button class="btn btn-primary" type="submit" ><i class="icon-ok icon-white"></i>&nbsp;#i18n{document.modify_document_type.buttonModify}</button>
		<button class="btn" onclick="javascript:history.go(-1)" ><i class="icon-remove-circle"></i>&nbsp;#i18n{portal.admin.message.buttonCancel}</button>
	</div>
	</form>
    </fieldset>
	<div class="well">
	<fieldset>
	<legend>#i18n{document.modify_document_type.titleStyleSheets}</legend>
	<form method="post" action="jsp/admin/plugins/document/DoLoadDocumentTypeStyleSheets.jsp" enctype="multipart/form-data" name="create_stylesheet">
	<input type="hidden" name="document_type_code" value="${document_type.code}" />
		<div class="controls">
			<label for="stylesheet_source" >#i18n{document.modify_document_type.labelStyleSheetAdmin} : </label>
			<input type="file" id="stylesheet_admin" name="stylesheet_admin" maxlength="100"/>
		</div>
		<div class="controls">
		<label class="checkbox" for="stylesheet_admin_update" >
		<input type="checkbox" id="stylesheet_admin_update" name="stylesheet_admin_update" value="true" />#i18n{document.modify_document_type.labelStyleSheetAdminUpdate}
		</label>
		</div>
		<div class="controls">
		<#if document_type.adminXsl?has_content>
			<a class="label label-info" href="jsp/admin/plugins/document/ViewStyleSheetFile.jsp?document_type_code=${document_type.code}&stylesheet_type=stylesheet_admin"><i class="icon-download icon-white"></i>&nbsp;#i18n{document.modify_document_type.labelStyleSheetAdminDownload}</a>
		<#else>
			<p class="label label-warning">#i18n{document.modify_document_type.labelStyleSheetAdminNoFile}</p>
		</#if>
		</div> 
		<div class="controls">
			<label for="stylesheet_source" >#i18n{document.modify_document_type.labelStyleSheetContent} : </label>
			<input type="file" id="stylesheet_content" name="stylesheet_content" maxlength="100"/>
		</div>
		<div class="controls">
			<label class="checkbox" for="stylesheet_admin_update" >
			<input type="checkbox" id="stylesheet_content_update" name="stylesheet_content_update" value="true" />#i18n{document.modify_document_type.labelStyleSheetContentUpdate}
			</label>
		</div> 
        <div class="controls">
			<#if document_type.contentServiceXsl?has_content>
           	<a class="label label-info" href="jsp/admin/plugins/document/ViewStyleSheetFile.jsp?document_type_code=${document_type.code}&stylesheet_type=stylesheet_content"><i class="icon-download icon-white"></i>&nbsp;#i18n{document.modify_document_type.labelStyleSheetContentDownload}</a>
			<#else>
        	<p class="label label-warning">#i18n{document.modify_document_type.labelStyleSheetContentNoFile}</p>
			</#if>
		</div>
		<div class="controls">
			<button class="btn btn-primary" type="submit" ><i class="icon-upload icon-white"></i>&nbsp;#i18n{document.modify_document_type.buttonLoadStyleSheets}</button>
		</div>
		<input type="hidden" name="mode_id" value="-1" />
		</form>
		</fieldset>
		</div>
</div>
<div class="span8">
	<fieldset>
	<legend>#i18n{document.modify_document_type.titleAttributesList}</legend>
    <form class="form-search" method="post" name="AddAttribute" action="jsp/admin/plugins/document/AddDocumentTypeAttribute.jsp">
		<input type="hidden" name="document_type_code" value="${document_type.code}" />
		<label for="attribute_type_code" >#i18n{document.modify_document_type.labelAddAttribute} </label> 
		<@combo name="attribute_type_code" default_value="" items=attribute_types_list />
        <button class="btn btn-primary" type="submit" ><i class="icon-plus icon-white"></i>&nbsp;#i18n{document.modify_document_type.buttonAddAttribute}</button>
	</form>
	<table class="table table-striped table-condensed">
	<thead>  
		<tr>
			<th>#i18n{document.modify_document_type.columnAttributeName}</th>
			<th>#i18n{document.modify_document_type.columnAttributeCode}</th>
			<th>#i18n{document.modify_document_type.columnAttributeDescription}</th>
			<th>#i18n{document.modify_document_type.columnAttributeType}</th>
			<th>#i18n{document.modify_document_type.columnAttributeRequired}</th>
			<th>#i18n{document.modify_document_type.columnAttributeSearchable}</th>
			<th>#i18n{document.modify_document_type.columnAttributeActions}</th>
		</tr>
    </thead>      
    <tbody>      
        <#list document_type.attributes as attribute >
        <tr>
            <td> ${attribute.name}</td>
			<td> ${attribute.code} </td>
			<td> ${attribute.description} </td>
			<td> ${attribute.codeAttributeType} </td>
			<td>
                <#if attribute.required = true >#i18n{portal.util.labelYes}<#else>#i18n{portal.util.labelNo}</#if>
            </td>
            <td>
                <#if attribute.searchable = true >#i18n{portal.util.labelYes}<#else>#i18n{portal.util.labelNo}</#if>
			</td>
			<td>
			<a class="btn btn-primary btn-mini" href="jsp/admin/plugins/document/ModifyDocumentTypeAttribute.jsp?attribute_id=${attribute.id}"  title="${attribute.name}" ><i class="icon-edit icon-white"></i></a>
			<a class="btn btn-primary btn-mini" href="jsp/admin/plugins/document/DoAttributeMoveUp.jsp?index=${attribute.attributeOrder}"  title="#i18n{document.modify_document_type.buttonMoveUp}" >
			<i class="icon-arrow-up icon-white"></i>
			</a>
			<a class="btn btn-primary btn-mini" href="jsp/admin/plugins/document/DoAttributeMoveDown.jsp?index=${attribute.attributeOrder}"  title="#i18n{document.modify_document_type.buttonMoveDown}" >
			<i class="icon-arrow-down icon-white"></i>
			</a>
			<a class="btn btn-danger btn-mini" href="jsp/admin/plugins/document/DoConfirmDeleteAttribute.jsp?attribute_id=${attribute.id}"  title="#i18n{document.modify_document_type.buttonDelete}" >
			<i class="icon-trash icon-white"></i></a>
			</td>
		</tr>
		</#list>
    </tbody>
    </table>
	</fieldset>
	</div>
</div>
